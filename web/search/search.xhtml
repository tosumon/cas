<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      template="./template.xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"      
      xmlns:f="http://java.sun.com/jsf/core">
    <head>        
        <link rel="stylesheet" type="text/css" href="/css/cssLayout.css"/>
        <link rel="stylesheet" type="text/css" href="/css/default.css"/>
    </head>
    <body> 
        <ui:composition template="./../login/Login_Template.xhtml">

            <h2>Admission Staff page</h2>
            <ui:define name="content">

                <h3>Search An Applicant</h3>
                <h:form>
                    <h:selectOneRadio id="searchBy" value="#{searchMB.searchBy}">
                        <f:selectItem itemLabel="By Applicant Name" itemValue="firstname"></f:selectItem>
                        <f:selectItem itemLabel="By Email Address" itemValue="email"></f:selectItem>
                        <f:selectItem itemLabel="By country" itemValue="country"></f:selectItem>
                        <f:selectItem itemLabel="By Applicant Status" itemValue="status"></f:selectItem>
                    </h:selectOneRadio>
                    <h:inputText id="keyword" value="#{searchMB.keyword}"></h:inputText>
                    <h:commandButton id="search" value="Search" action="#{searchMB.search}"></h:commandButton><br></br><br></br>
                    <h:commandButton id="listAll" value="List All Applicants" action="#{searchMB.searchAllApp()}"></h:commandButton>

                    <!--
                                      <h:dataTable id="list" value="#{searchMB.results}" var="item">
                                           <h:column>
                                               <f:facet name="header">
                                                   <h:outputText value="Name"/>
                                               </f:facet>
                                               <h:outputText value= "#{item.applicantId}" />
                                           </h:column>
                                       </h:dataTable>
                    -->

                    <h:dataTable value="#{searchMB.results}" var="app" 
                                 styleClass="appTable"
                                 headerClass="appTableHeader"
                                 rowClasses="appTableOddRow,appTableEvenRow">                    
                        <h:column>
                            <!-- display currently selected row number -->
                            <f:facet name="header">No</f:facet>
                                #{searchMB.search().rowIndex + 1}
                        </h:column>                    
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="ID"/>
                            </f:facet>
                            <h:form>
                                <h:commandLink action="#{adminMB.getApplicantInfo}" value="#{app.applicantId}">
                                    <f:param name="updateId" value="#{app.applicantId}"></f:param>
                                </h:commandLink>
                            </h:form>
                        </h:column>

                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="First Name"/>
                            </f:facet>
                            <h:outputText value="#{app.personalData.firstName}"/>
                        </h:column>

                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Last Name"/>
                            </f:facet>
                            <h:outputText value="#{app.personalData.lastName}"/>
                        </h:column>

                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Date of Birth"/>
                            </f:facet>
                            <h:outputText value="#{app.personalData.dateOfBirth}"/>
                        </h:column>

                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Email address"/>
                            </f:facet>
                            <h:outputText value="#{app.email}"/>
                        </h:column>

                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Gender"/>
                            </f:facet>
                            <h:outputText value="#{app.personalData.sex}"/>
                        </h:column>

                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Country "/>
                            </f:facet>
                            <h:outputText value="#{app.personalData.countryOfLiving}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Evaluation status"/>
                            </f:facet>
                            <h:outputText value="#{app.evaluationStatus}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Application Status"/>
                            </f:facet>
                            <h:outputText value="#{app.applicationStatus}"/>
                        </h:column>                        
                    </h:dataTable> 
                </h:form>        
            </ui:define>
        </ui:composition>
    </body>
</html>

